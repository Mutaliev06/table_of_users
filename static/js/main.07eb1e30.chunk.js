(this["webpackJsonptable-of-users"]=this["webpackJsonptable-of-users"]||[]).push([[0],{26:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),s=n(7),a=n.n(s),i=n(3),u=n(4),d=n.n(u),l=n(5),o=n(2),j={loading:!1,deleting:!1,editing:!1,items:[]},b=function(e,t){return function(){var n=Object(l.a)(d.a.mark((function n(c){return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c({type:"users/edit/pending"}),n.next=3,fetch("https://jsonplaceholder.typicode.com/users/".concat(e),{method:"PATCH",body:JSON.stringify(t),headers:{"Content-type":"application/json; charset=UTF-8"}});case 3:c({type:"users/edit/fulfilled",payload:{userId:e,data:t}});case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},O=n(1);var h=function(){return Object(O.jsx)("div",{className:"alert alert-info",children:"\u0418\u0434\u0435\u0442 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430"})};var p=function(){return Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{children:"ID"}),Object(O.jsx)("th",{children:"name"}),Object(O.jsx)("th",{children:"email"}),Object(O.jsx)("th",{children:"phone"}),Object(O.jsx)("th",{})]})})},f=n(6);var x=function(e){var t=e.setIsEditing,n=e.user,r=Object(i.b)(),s=Object(i.c)((function(e){return e.editing})),a=Object(c.useState)(n.name),u=Object(f.a)(a,2),o=u[0],j=u[1],h=Object(c.useState)(n.email),p=Object(f.a)(h,2),x=p[0],m=p[1],g=Object(c.useState)(n.phone),v=Object(f.a)(g,2),y=v[0],w=v[1],N=function(){var e=Object(l.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r(b(n.id,{name:o,email:x,phone:y}));case 2:t(!1);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:n.id}),Object(O.jsx)("td",{children:Object(O.jsx)("input",{className:"form-control",type:"text",value:o,onChange:function(e){j(e.target.value)}})}),Object(O.jsx)("td",{children:Object(O.jsx)("input",{className:"form-control",type:"text",value:x,onChange:function(e){m(e.target.value)}})}),Object(O.jsx)("td",{children:Object(O.jsx)("input",{className:"form-control",type:"text",value:y,onChange:function(e){w(e.target.value)}})}),Object(O.jsxs)("td",{children:[Object(O.jsx)("button",{className:"btn btn-outline-primary",onClick:N,disabled:s,children:"save"})," ",Object(O.jsx)("button",{className:"btn btn-outline-light",onClick:function(){return t(!1)},disabled:s,children:"\u21a9"})]})]})};var m=function(e){var t=e.setIsEditing,n=e.user,c=Object(i.b)(),r=Object(i.c)((function(e){return e.deleting}));return Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:n.id}),Object(O.jsx)("td",{children:n.name}),Object(O.jsx)("td",{children:n.email}),Object(O.jsx)("td",{children:n.phone}),Object(O.jsxs)("td",{children:[Object(O.jsx)("button",{className:"btn btn-outline-primary",onClick:function(){return t(!0)},children:"\u270e"})," ",Object(O.jsx)("button",{className:"btn btn-outline-danger",onClick:function(){return c((e=n.id,function(){var t=Object(l.a)(d.a.mark((function t(n){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:"users/delete/pending"}),t.next=3,fetch("https://jsonplaceholder.typicode.com/users/".concat(e),{method:"DELETE"});case 3:n({type:"users/delete/fulfilled",payload:e});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));var e},disabled:r,children:"\u2421"})]})]})};var g=function(e){var t=e.user,n=Object(c.useState)(!1),r=Object(f.a)(n,2),s=r[0],a=r[1];return s?Object(O.jsx)(x,{setIsEditing:a,user:t}):Object(O.jsx)(m,{setIsEditing:a,user:t})};var v=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.loading})),n=Object(i.c)((function(e){return e.items}));return Object(c.useEffect)((function(){return e(function(){var e=Object(l.a)(d.a.mark((function e(t){var n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"users/load/pending"}),e.next=3,fetch("https://jsonplaceholder.typicode.com/users");case 3:return n=e.sent,e.next=6,n.json();case 6:c=e.sent,t({type:"users/load/fulfilled",payload:c});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[e]),t?Object(O.jsx)(h,{}):Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("table",{className:"table",children:[Object(O.jsx)(p,{}),Object(O.jsx)("tbody",{children:n.map((function(e){return Object(O.jsx)(g,{user:e},e.id)}))})]}),Object(O.jsxs)("h4",{children:["\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439: ",n.length]})]})},y=n(11),w=n(12),N=n(13),k=Object(w.createLogger)({collapsed:!0,diff:!0}),C=Object(y.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"users/load/pending":return Object(o.a)(Object(o.a)({},e),{},{loading:!0});case"users/load/fulfilled":return Object(o.a)(Object(o.a)({},e),{},{loading:!1,items:t.payload});case"users/delete/pending":return Object(o.a)(Object(o.a)({},e),{},{deleting:!0});case"users/delete/fulfilled":return Object(o.a)(Object(o.a)({},e),{},{deleting:!1,items:e.items.filter((function(e){return e.id!==t.payload}))});case"users/edit/pending":return Object(o.a)(Object(o.a)({},e),{},{editing:!0});case"users/edit/fulfilled":return Object(o.a)(Object(o.a)({},e),{},{editing:!1,items:e.items.map((function(e){return e.id===t.payload.userId?Object(o.a)(Object(o.a)({},e),t.payload.data):e}))});default:return e}}),Object(y.a)(N.a,k));n(25);a.a.render(Object(O.jsx)(r.a.StrictMode,{children:Object(O.jsx)(i.a,{store:C,children:Object(O.jsx)("div",{className:"container",children:Object(O.jsx)(v,{})})})}),document.getElementById("root"))}},[[26,1,2]]]);
//# sourceMappingURL=main.07eb1e30.chunk.js.map